{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/octagon.svg","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com';\n\nexport async function fetchPhotos(search, page) {\n  const response = await axios.get('api/', {\n    params: {\n      key: '5078704-abab538ab7558d1cf73264192',\n      q: search,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n      page,\n      per_page: 15,\n    },\n  });\n  return response.data;\n}\n","export function renderPhotos(photos, domElem) {\n  const markup = photos\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        likes,\n        comments,\n        views,\n        downloads,\n        tags,\n      }) => {\n        return `<li class=\"gallery-item\">\n            <a class=\"link-card\" href=\"${largeImageURL}\">\n                <img class=\"image-card\" src=\"${webformatURL}\" alt=\"${tags}\"/></a>\n                <ul class=\"info-list\">\n                    <li class=\"info-item\">\n                        <h3 class=\"info-title\">Likes</h3>\n                        <p>${likes}</p>\n                    </li>\n                    <li class=\"info-item\">\n                        <h3 class=\"info-title\">Views</h3>\n                        <p>${views}</p>\n                    </li>\n                    <li class=\"info-item\">\n                        <h3 class=\"info-title\">Comments</h3>\n                        <p>${comments}</p>\n                    </li>\n                    <li class=\"info-item\">\n                        <h3 class=\"info-title\">Downloads</h3>\n                        <p>${downloads}</p>\n                    </li>\n                </ul>\n        </li>`;\n      }\n    )\n    .join('');\n  domElem.insertAdjacentHTML('beforeend', markup);\n}\n","export default \"__VITE_ASSET__de411352__\"","import { fetchPhotos } from './js/pixabay-api';\nimport { renderPhotos } from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport './css/styles.css';\nimport iconUrl from './img/octagon.svg';\n\nlet search = '';\nlet page = 1;\nlet totalPages;\n\nconst refs = {\n  loader: document.querySelector('.loader'),\n  galleryBox: document.querySelector('.gallery-box'),\n  gallery: document.querySelector('.gallery'),\n  form: document.querySelector('form'),\n  btnMore: document.querySelector('.btn-more'),\n};\n\nconst lightbox = new SimpleLightbox('.link-card', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst iziToastSet = {\n  message: '',\n  backgroundColor: ' #EF4040',\n  maxWidth: '432px',\n  messageColor: '#FAFAFB',\n  messageSize: '16',\n  messageLineHeight: '24',\n  position: 'topRight',\n  iconUrl,\n  progressBarColor: '#B51B1B',\n};\n\nrefs.form.addEventListener('submit', async e => {\n  e.preventDefault();\n  disableMoreBtn();\n  search = refs.form.elements.search.value.trim();\n  if (search === '') {\n    return;\n  }\n  refs.gallery.innerHTML = '';\n  page = 1;\n  try {\n    enableLoader();\n    const photos = await fetchPhotos(search, page);\n    disableLoader();\n    totalPages = Math.ceil(photos.totalHits / 15);\n    if (photos.hits.length > 0 && totalPages > 1) {\n      renderPhotos(photos.hits, refs.gallery);\n      lightbox.refresh();\n      enableMoreBtn();\n    } else if (photos.hits.length > 0) {\n      renderPhotos(photos.hits, refs.gallery);\n      lightbox.refresh();\n    } else {\n      iziToastSet.message =\n        'Sorry, there are no images matching your search query. Please try again!';\n      iziToast.show(iziToastSet);\n      refs.gallery.innerHTML = '';\n    }\n  } catch (error) {\n    console.log('Error:', error);\n  }\n  refs.form.reset();\n});\n\nrefs.btnMore.addEventListener('click', async () => {\n  page += 1;\n  try {\n    enableLoader();\n    const photos = await fetchPhotos(search, page);\n    disableLoader();\n    renderPhotos(photos.hits, refs.gallery);\n    scroll();\n    if (page === totalPages) {\n      disableMoreBtn();\n      iziToastSet.message =\n        \"We're sorry, but you've reached the end of search results.\";\n      iziToast.show(iziToastSet);\n    }\n    lightbox.refresh();\n  } catch (error) {\n    console.log('Error:', error);\n  }\n});\n\nfunction enableLoader() {\n  refs.loader.classList.remove('hidden');\n}\nfunction disableLoader() {\n  refs.loader.classList.add('hidden');\n}\nfunction enableMoreBtn() {\n  refs.btnMore.classList.remove('hidden');\n}\nfunction disableMoreBtn() {\n  refs.btnMore.classList.add('hidden');\n}\nfunction scroll() {\n  window.scrollBy({\n    top:\n      document.querySelector('.gallery-item').getBoundingClientRect().height *\n      2,\n    left: 0,\n    behavior: 'smooth',\n  });\n}\n"],"names":["axios","fetchPhotos","search","page","renderPhotos","photos","domElem","markup","largeImageURL","webformatURL","likes","comments","views","downloads","tags","iconUrl","totalPages","refs","lightbox","SimpleLightbox","iziToastSet","e","disableMoreBtn","enableLoader","disableLoader","enableMoreBtn","iziToast","error","scroll"],"mappings":"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"}